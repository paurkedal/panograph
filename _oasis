OASISFormat: 0.4
Name: panograph
Version: 0.1
Synopsis: Data-Centric Widgets for Eliom
Authors: Petter A. Urkedal
License: LGPL-3 with OCaml linking exception
AlphaFeatures: ocamlbuild_more_args, pure_interface
Plugins: DevFiles (0.4), META (0.4)
BuildTools: ocamlbuild
XOCamlbuildPluginTags: package(eliom.ocamlbuild)
OCamlVersion: >= 4.01

# Package names should be changed to panograph, panograph.server and
# panograph.client when supported by OASIS.  Cf feature request #1305.

Library "panograph"
  Path: lib
  BuildDepends: js_of_ocaml.deriving, lwt, prime
  Modules:
    Operated_types,
    Panograph_dltree,
    Panograph_i18n,
    Panograph_types,
    Pwt_emitter,
    Pwt_hashtbl,
    Pwt_list,
    Pwt_option,
    Presentation_sigs,
    Presentation_types,
    Presenting_map,
    Presenting_set

Library "panograph-server"
  Path: lib/server
  BuildDepends: eliom.server, panograph, prime
  Modules:
    Panograph_basic_editors,
    Panograph_twine_editor,
    Panui_content_with_edit

Library "panograph-client"
  Path: lib/client
  Modules:
    Operated_html5,
    Panograph_basic_editors,
    Panograph_collection,
    Panograph_common,
    Panograph_intf,
    Panograph_mapped,
    Panograph_simple,
    Panograph_tabular,
    Panograph_twine_editor,
    Pandom_weaktbl,
    Panui_content_with_edit
  BuildDepends:
    eliom.client, lwt.syntax, js_of_ocaml.syntax,
    panograph, prime, prime.unstable

Library "test"
  Path: web
  Modules:
    server/Test,
    server/Test_basic_editors,
    server/Test_content_with_edit,
    server/Test_operated,
    server/Test_weaktbl,
    server/Test_twine_editor
  BuildDepends: eliom.server, panograph-server, prime, prime.unstable
  ByteOpt: -thread
  NativeOpt: -thread
  CompiledObject: native
  Install: false

Executable "test"
  Path: web/client
  BuildDepends: eliom.client, panograph-client
  MainIs: test.ml
  ByteOpt: -thread
  Install: false

Executable "test_dltree"
  Path: tests
  MainIs: test_dltree.ml
  Install: false
  BuildDepends: panograph, prime

Document api
  Title: Panograph Base Library
  Type: ocamlbuild (0.4)
  InstallDir: $htmldir/html
  BuildTools+: ocamldoc
  XOCamlbuildPath: lib
  XOCamlbuildLibraries: panograph
  DataFiles: COPYING ($docdir), COPYING.LESSER ($docdir)
